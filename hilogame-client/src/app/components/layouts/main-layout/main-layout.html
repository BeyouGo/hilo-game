
<!-- Header / Navbar -->
<nav class="navbar navbar-expand-lg sticky-top bg-body-tertiary border-bottom">
  <div class="container">
    <a class="navbar-brand fw-semibold" routerLink="/">HiLo Game</a>

    <button
      class="navbar-toggler"
      type="button">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="appNav" class="collapse navbar-collapse">
      <!-- Left -->
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link" routerLink="/rooms" routerLinkActive="active">Rooms</a>
        </li>
      </ul>

      <!-- Right (no dropdown) -->
      <ul class="navbar-nav ms-auto align-items-lg-center">
        @if (player()) {
          <li class="nav-item me-2 text-body-secondary small">
            Welcome: <strong class="ms-1">{{ player()?.userName }}</strong>
          </li>
          <li class="nav-item">
            <button class="btn btn-outline-secondary btn-sm" type="button" (click)="logout()">
              Se d√©connecter
            </button>
          </li>
        } @else {
          <li class="nav-item">
            <a class="nav-link" routerLink="/auth/login" routerLinkActive="active">Login</a>
          </li>
          <li class="nav-item ms-lg-2">
            <a class="btn btn-primary btn-sm" routerLink="/auth/register">Register</a>
          </li>
        }
      </ul>
    </div>
  </div>
</nav>

@if (isDebug()) {
  <nav class="navbar nav-debug bg-body-tertiary border-bottom py-2">
    <div class="container ">
      <form class="d-flex flex-wrap gap-2 align-items-center w-100"
            (submit)="loginDebug($event)">
        <span class="navbar-brand fw-semibold me-2 mb-0">Debug</span>

        <input type="text" class="form-control form-control-sm"
               placeholder="Username"
               [(ngModel)]="debugUsername" name="debugUsername"
               autocomplete="username" style="max-width: 200px;">

        <input type="password" class="form-control form-control-sm"
               placeholder="Password"
               [(ngModel)]="debugPassword" name="debugPassword"
               autocomplete="current-password" style="max-width: 200px;">

        <button type="submit" class="btn btn-primary btn-sm">Login</button>
        <a class="btn btn-outline-primary btn-sm" routerLink="/auth/register">Register</a>
        <button type="button" class="btn btn-outline-secondary btn-sm" (click)="logout()">Logout</button>
      </form>
    </div>
  </nav>
}

<!-- Main content -->
<main class="py-4">
  <div class="container">
    <router-outlet></router-outlet>
  </div>
</main>

<!-- Optional footer -->
<footer class="border-top py-3">
  <div class="container small text-body-secondary">
    Hi-Lo Demo
  </div>
</footer>

<app-toast></app-toast>
